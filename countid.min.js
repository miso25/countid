!function(e,t,n,i){function a(t,n){this.elem=t,this.$elem=e(t),this.$elem_original=this.$elem,this.options=n,this.metadata=this.$elem.data(),this._init()}t.cancelRequestAnimFrame=function(){return t.cancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}(),t.requestAnimFrame=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e,n){return t.setTimeout(e,1e3/60)}}();var o="countid";a.prototype={defaults:{start:0,end:0,speed:10,tick:10,clock:!1,switchClock:!0,dateTime:0,dateTplRemaining:"Remaining time: %D days and %H:%M:%S ",dateTplElapsed:"Elapsed time: %D days and %H:%M:%S ",format:!1,complete:!1},lang:{textSelectAll:function(){return"Select all"}},_init:function(){this.config=e.extend({},this.defaults,this.options,this.metadata);var t=this;t.id=t._getRandomInt(999,99999),t.timer={},t.isPaused=!1,t.speed=t.config.speed,t.tick=t.config.tick,t.clock=t.config.clock,t.dateTpl=t.config.dateTplRemaining,0===t.config.start&&0===t.config.end&&(t.config.end=1*t.$elem.text()),t.request=0,t.paused=!1,t._setSteps(t.config.start,t.config.end),t.clock&&t._setClock(),"function"==typeof t.$elem.waypoint?t.$elem.waypoint(function(){t._loop()},{offset:"100%",triggerOnce:!0}):t._loop()},_setTime:function(){var e=this,t=Date.now(),n=new Date(e.config.dateTime).getTime(),i=1*Math.floor(t/1),a=1*(n/1),o=Math.abs(i-a),r=0;return i>a?r=1e16:o=a-i+1e3,e.step=Math.floor(o/1e3),[o,r]},_setClock:function(){var e=this;e.speed=1e3,e.tick=1;var t=e._setTime();e._setSteps(t[0],t[1]),t[0]<t[1]&&(e.dateTpl=e.config.dateTplElapsed);var n=e.dateTpl,i=-1!==n.search("%Y")?!0:!1,a=(-1!==n.search("%Y")?!0:!1,-1!==n.search("%D")?!0:!1),o=-1!==n.search("%H")?!0:!1,r=-1!==n.search("%M")?!0:!1,s=-1!==n.search("%S")?!0:!1,c=-1!==n.search("%U")?!0:!1;e.config.format=function(t){var u=e._setTime(),l=u[0],f=n,m=0,p=0,d=0,h=0,g=0;return i&&(m=Math.floor(l/31536e6),f=f.replace("%Y",m),l-=60*m*60*24*365*1e3),a&&(p=Math.floor(l/864e5),f=f.replace("%D",p),l-=60*p*60*24*1e3),o&&(d=Math.floor(l/36e5),f=f.replace("%H",d),l-=60*d*60*1e3),r&&(h=Math.floor(l/6e4),f=f.replace("%M",h),l-=60*h*1e3),s&&(g=Math.floor(l/1e3),f=f.replace("%S",g),l-=1e3*g),c&&(f=f.replace("%U",l)),f}},_setSteps:function(e,t){var n=this;n.start=1*e,n.end=1*t,n.current=n.start,n.clock||n.$elem.text(n.start),n.step=1*(Math.abs(n.current-n.end)/n.tick),n.dir=n.current>n.end?-1:1,n.tick=n.dir*n.tick},_rep:function(){var e=this;if(e.step>=0){var t=e.current;"function"==typeof e.config.format&&(t=e.config.format(t)),e.$elem.text(t),e.step-=1,e.current+=e.tick}else{cancelRequestAnimFrame(e.request);var n=e.end;"function"==typeof e.config.format&&(n=e.config.format(n)),e.$elem.text(n),e.clock&&e.config.switchClock&&(e._setClock(),e._loop()),"function"==typeof e.config.complete&&e.config.complete(e.$elem)}},_loop:function(e,t){function n(){u.request=requestAnimFrame(n),u.frames++,r=Date.now(),c=r-s,c>a&&(s=r-c%a,u._rep())}var i,a,o,r,s,c,u=this;i=u.speed,a=1e3/i,s=Date.now(),o=s,u.frames=0,n()},_getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},_eventCallback:function(e){var t=this;"function"==typeof t.config[e]},_initEvents:function(){},setCurrent:function(e){var t=this;e=1*e,1==t.dir&&(t.start>e||t.end<e)||-1==t.dir&&(t.start<e||t.end>e)||(t.current=e,t._setSteps(t.current,t.config.end),cancelRequestAnimFrame(t.request),t._loop())},toggleDir:function(){var e=this;cancelRequestAnimFrame(e.request),e._setSteps(e.end,e.start),e._loop()},togglePause:function(){var e=this;e.isPaused?e.unpause():e.pause()},pause:function(){var e=this;cancelRequestAnimFrame(e.request),e.isPaused=!0},unpause:function(){var e=this;e.isPaused=!1,cancelRequestAnimFrame(e.request),e._loop()},refresh:function(){var e=this;cancelRequestAnimFrame(e.request),e._setSteps(e.config.start,e.config.end),e._loop()}},e.fn[o]=function(t){var n=arguments;if(t===i||"object"==typeof t)return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new a(this,t))});if("string"==typeof t&&"_"!==t[0]&&"init"!==t){var r;return this.each(function(){var i=e.data(this,"plugin_"+o);i instanceof a&&"function"==typeof i[t]&&(r=i[t].apply(i,Array.prototype.slice.call(n,1))),"destroy"===t&&e.data(this,"plugin_"+o,null)}),r!==i?r:this}}}(jQuery,window,document);
